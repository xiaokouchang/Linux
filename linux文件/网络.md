# 网 络
**独 立 模 式**：计 算 机 之 间 相 互 独 立。

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/1c084953ab344e75b2e7b3b492e1d624.png)
**网 络 互 联**：多 台 计 算 机 连 接 在 一 起，完 成 数 据 共 享 和 交 互。
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/53e5dbd0da05478cb0197d9e4d41b227.png)
**局 域 网 LAN**：计 算 机 数 量 更 多 了，通 过 交 换 机 和 路 由 器 连 接 在 一 起。
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/6e880fb34ced479e81011ad1511ad4b1.png)
**广 域 网 WAN**：将 远 隔 千 里 的 计 算 机 都 连 在 一 起。
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b3a8f8b290a3403bba402b466cb678e1.png)
# 协 议
## 定 义
1. 协 议 是 双 方 的 约 定，最 终 的 表 现 形 式 是 双 方 都 能 认 识 的 结 构 体 对 象。
2. 发 送 数 据 时，除 了 消 息 本 身 之 外，还 需 要 多 发 送 一 些 内 容，这 些 内 容 就 是 协 议。

## 问 题
由 于 主 机 之 间 的 传 输 距 离 变 长 了，会 产 生 下 列 的 问 题：
1. 定 位 主 机。
2. 长 距 离 传 送 中 数 据 丢 失 的 问 题。
3. 保 证 数 据 准 确 的 到 达 下 一 个 设 备。
4. 处 理 发 来 的 数 据。

主 机 是 对 称 的，每 一 层 都 有 自 己 的 协 议。
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/76808fa64ca6419abf040c5b110b0600.png)
***
## 网 络 协 议
### 定 义
计 算 机 之 间 的 传 输 媒 介 是 光 信 号 和 电 信 号。通 过 "频 率" 和 "强 弱" 来 表 示 0 和 1 这 样 的 信 息。要 想 传 递 各 种 不 同 的 信 息，就 需 要 约 定 好 双 方 的 数 据 格 式。

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/66897a3b549a4a0ea9f68c1f274a142f.png)

计 算 机 生 产 厂 商 有 很 多；计 算 机 操 作 系 统 也 有 很 多；计 算 机 网 络 硬 件 设 备 还 有 很 多；要 让 这 些 不 同 厂 商 之 间 生 产 的 计 算 机 能 够 相 互 顺 畅 的 通 信，就 需 要 约 定 一 个 共 同 的 标 准，大 家 都 来 遵 守，这 就 是 网 络 协 议。
***
### 协 议 分 层
**打 电 话**
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/f135f75a535c477e8e2b4023e70957b9.png)
层 和 层 之 间 通 过 话 筒 进 行 交 互，同 层 之 间 是 高 内 聚、低 耦 合。在 这 个 例 子 中，协 议 只 有 两 层。分 层 不 一 定 是 上 下 分 层，也 可 以 是 左 右 分 层。软 件 分 层 表 现 是 在 结 构 体 或 类 的 数 据 层 面 或 者 软 件 逻 辑 上 做 分 离。但 是 实 际 的 网 络 通 信 会 更 加 复 杂，需 要 分 更 多 的 层 次。分 层 最 大 的 好 处 在 于 "封 装"，即 通 过 高 内 聚，低 耦 合 降 低 软 件 维 护 成 本。
***
## 网 络 协 议 分 层 的 原 因
1. 网 络 的 项 目 比 较 大，分 层 便 于 维 护 和 管 理。
2. 网 络 的 问 题 是 层 状 的，协 议 也 应 该 是 层 状 的。
3. 数 据 传 输 的 可 靠 性。
***
## OSI 七 层 模 型
1. OSI（开 放 系 统 互 连）七 层 网 络 模 型 称 为 开 放 式 系 统 互 联 参 考 模 型，是 一 个 逻 辑 上 的 定 义 和 规  范；
2. 把 网 络 从 逻 辑 上 分 为 了 7 层。每 一 层 都 有 相 关、相 对 应 的 物 理 设 备，比 如 路 由 器，交 换 机。
3. OSI 七 层 模 型 是 一 种 框 架 性 的 设 计 方 法，其 最 主 要 的 功 能 使 就 是 帮 助 不 同 类 型 的 主 机 实 现 数 据 传 输。
4. 最 大 优 点 是 将 服 务、接 口 和 协 议 这 三 个 概 念 明 确 地 区 分 开 来，概 念 清 楚，理 论 也 比 较 完 整
5. 通 过 七 个 层 次 化 的 结 构 模 型 使 不 同 的 系 统 不 同 的 网 络 之 间 实 现 可 靠 的 通 讯。但 是，它 既 复 杂 又 不 实 用，所 以 我 们 按 照 TCP / IP 四 层 模 型 来 讲 解。
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/32f45ef30c6a45a182fd7d894293ba29.png)
实 际 工 程 实 践 中 没 有 会 话 层 和 表 示 层，软 件 方 面 只 关 心 数 据 链 路 层、网 络 层、传 输 层 和 应 用 层。
# TCP / IP 五 层（或 四 层）模 型
TCP / IP 是 一 组 协 议 的 代 名 词，它 还 包 括 许 多 协 议，组 成 了 TCP / IP 协 议 簇。
TCP / IP 通 讯 协 议 采 用 了 5 层 的 层 级 结 构，每 一 层 都 呼 叫 它 的 下 一 层 所 提 供 的 网 络 来 完 成 自 己 的 需 求。
**物 理 层**：负 责 光 / 电 信 号 的 传 递 方 式。比 如 现 在 以 太 网 通 用 的 网 线（双 绞 线）、早 期 以 太 网 采 用 的 的 同 轴 电 缆（现 在 主 要 用 于 有 线 电 视）、光 纤，现 在 的 wifi 无 线 网 使 用 电 磁 波 等 都 属 于 物 理 层 的 概 念。物 理 层 的 能 力 决 定 了 最 大 传 输 速 率、传 输 距 离、抗 干 扰 性 等。集 线 器(Hub) 工 作 在 物 理 层。

**光 纤**
![光 纤](https://i-blog.csdnimg.cn/direct/4e4eaa8b36b746af9600859aa85512a7.png)

**数 据 链 路 层**：负 责 设 备 之 间 的 数 据 帧 的 传 送 和 识 别 。例 如 网 卡 设 备 的 驱 动、帧 同 步（就 是 说 从 网 线 上 检 测 到 什 么 信 号 算 作 新 帧 的 开 始)、冲 突 检 测(如 果 检 测 到 冲 突 就 自 动 重 发)、数 据 差 错 校 验 等 工 作。有 以 太 网、令 牌 环 网，无 线 LAN 等 标 准。交 换 机 (Switch) 工 作 在 数 据 链 路 层。

**网 络 层**：身 份 识 别 和 标 识，负 责 地 址 管 理 和 路 由 选 择。例 如 在 IP 协 议 中，通 过 IP 地 址 来 标 识 一 台 主 机，并 通 过 路 由 表 的 方 式 规 划 出 两 台 主 机 之 间 的 数 据 传 输 的 线 路(路 由)。路 由 器 工 作 在 网 路 层。

**传 输 层**：负 责 两 台 主 机 之 间 的 数 据 传 输。如 传 输 控 制 协 议 (TCP)，能 够 确 保 数 据 可 靠 的 从 源 主 机 发 送 到 目 标 主 机。

**应 用 层**：负 责 应 用 程 序 间 沟 通，如 简 单 电 子 邮 件 传 输 （SMTP）、文 件 传 输 协 议（FTP）、网 络 远 程 访 问 协 议（Telnet）等。

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/fc8a2cde83d0469ebc1411fe1423a033.png)
## 网 络 和 硬 件 的 关 系
网 络 通 信 的 本 质 是 贯 穿 协 议 栈 的 过 程。
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/922e6fe01aef4a21b24f15dfc6357299.png)
不 同 硬 件（设 备） 之 间 通 过 网 络 来 连 接。
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c07fcc9ae5f3444882121aaf9864f6bf.png)